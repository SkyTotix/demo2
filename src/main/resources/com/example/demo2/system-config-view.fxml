<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<VBox xmlns="http://javafx.com/javafx/17.0.2-ea" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.demo2.controller.SystemConfigController">
   <children>
      <!-- Header -->
      <HBox alignment="CENTER_LEFT" spacing="15.0" styleClass="content-header">
         <children>
            <Label styleClass="page-title" text="ConfiguraciÃ³n del Sistema" />
            <Region HBox.hgrow="ALWAYS" />
            <Button fx:id="btnSaveAll" onAction="#handleSaveAll" styleClass="btn-primary" text="ðŸ’¾ Guardar Todo" />
            <Button fx:id="btnResetDefaults" onAction="#handleResetDefaults" styleClass="btn-secondary" text="ðŸ”„ Restaurar" />
         </children>
      </HBox>
      
      <!-- Tabs de configuraciÃ³n -->
      <TabPane fx:id="configTabPane" tabClosingPolicy="UNAVAILABLE" VBox.vgrow="ALWAYS">
         
         <!-- Tab: ConfiguraciÃ³n General -->
         <Tab text="âš™ï¸ General">
            <VBox spacing="20.0">
               <children>
                  <Label styleClass="section-title" text="ConfiguraciÃ³n General del Sistema" />
                  
                  <!-- ConfiguraciÃ³n de la aplicaciÃ³n -->
                  <VBox spacing="15.0" styleClass="config-section">
                     <children>
                        <Label styleClass="config-section-title" text="AplicaciÃ³n" />
                        
                        <GridPane hgap="15.0" vgap="12.0">
                           <children>
                              <Label text="Nombre del Sistema:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                              <TextField fx:id="txtSystemName" promptText="BiblioSystem" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                              
                              <Label text="VersiÃ³n:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                              <TextField fx:id="txtSystemVersion" promptText="1.0.0" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                              
                              <Label text="Modo de Mantenimiento:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                              <CheckBox fx:id="chkMaintenanceMode" text="Activar modo de mantenimiento" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                              
                              <Label text="Logs detallados:" GridPane.columnIndex="0" GridPane.rowIndex="3" />
                              <CheckBox fx:id="chkDetailedLogs" text="Habilitar logs detallados" GridPane.columnIndex="1" GridPane.rowIndex="3" />
                           </children>
                           <columnConstraints>
                              <ColumnConstraints minWidth="150.0" />
                              <ColumnConstraints hgrow="ALWAYS" />
                           </columnConstraints>
                        </GridPane>
                     </children>
                  </VBox>
                  
                  <!-- ConfiguraciÃ³n de sesiones -->
                  <VBox spacing="15.0" styleClass="config-section">
                     <children>
                        <Label styleClass="config-section-title" text="Sesiones de Usuario" />
                        
                        <GridPane hgap="15.0" vgap="12.0">
                           <children>
                              <Label text="Tiempo de sesiÃ³n (minutos):" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                              <Spinner fx:id="spnSessionTimeout" editable="true" max="480" min="5" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                              
                              <Label text="MÃ¡x. sesiones concurrentes:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                              <Spinner fx:id="spnMaxConcurrentSessions" editable="true" max="100" min="1" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                              
                              <Label text="Recordar sesiÃ³n:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                              <CheckBox fx:id="chkRememberSession" text="Permitir 'Recordar sesiÃ³n'" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                           </children>
                           <columnConstraints>
                              <ColumnConstraints minWidth="150.0" />
                              <ColumnConstraints hgrow="ALWAYS" />
                           </columnConstraints>
                        </GridPane>
                     </children>
                  </VBox>
               </children>
               <padding>
                  <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
               </padding>
            </VBox>
         </Tab>
         
         <!-- Tab: Base de Datos -->
         <Tab text="ðŸ—„ï¸ Base de Datos">
            <VBox spacing="20.0">
               <children>
                  <Label styleClass="section-title" text="ConfiguraciÃ³n de Base de Datos" />
                  
                  <!-- Estado de la conexiÃ³n -->
                  <VBox spacing="15.0" styleClass="config-section">
                     <children>
                        <Label styleClass="config-section-title" text="Estado de ConexiÃ³n" />
                        
                        <GridPane hgap="15.0" vgap="12.0">
                           <children>
                              <Label text="Estado:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                              <Label fx:id="lblDbConnectionStatus" styleClass="status-connected" text="âœ… Conectado" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                              
                              <Label text="Servidor:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                              <Label fx:id="lblDbServer" text="Oracle Cloud Infrastructure" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                              
                              <Label text="Base de Datos:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                              <Label fx:id="lblDbName" text="INTEGRADORA" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                              
                              <Label text="Usuario:" GridPane.columnIndex="0" GridPane.rowIndex="3" />
                              <Label fx:id="lblDbUser" text="ADMIN" GridPane.columnIndex="1" GridPane.rowIndex="3" />
                           </children>
                           <columnConstraints>
                              <ColumnConstraints minWidth="150.0" />
                              <ColumnConstraints hgrow="ALWAYS" />
                           </columnConstraints>
                        </GridPane>
                        
                        <HBox spacing="10.0">
                           <children>
                              <Button fx:id="btnTestConnection" onAction="#handleTestConnection" styleClass="btn-secondary" text="ðŸ” Probar ConexiÃ³n" />
                              <Button fx:id="btnReconnect" onAction="#handleReconnect" styleClass="btn-secondary" text="ðŸ”„ Reconectar" />
                           </children>
                        </HBox>
                     </children>
                  </VBox>
                  
                  <!-- ConfiguraciÃ³n del pool de conexiones -->
                  <VBox spacing="15.0" styleClass="config-section">
                     <children>
                        <Label styleClass="config-section-title" text="Pool de Conexiones" />
                        
                        <GridPane hgap="15.0" vgap="12.0">
                           <children>
                              <Label text="Conexiones mÃ­nimas:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                              <Spinner fx:id="spnMinConnections" editable="true" max="50" min="1" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                              
                              <Label text="Conexiones mÃ¡ximas:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                              <Spinner fx:id="spnMaxConnections" editable="true" max="200" min="5" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                              
                              <Label text="Timeout conexiÃ³n (seg):" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                              <Spinner fx:id="spnConnectionTimeout" editable="true" max="300" min="5" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                           </children>
                           <columnConstraints>
                              <ColumnConstraints minWidth="150.0" />
                              <ColumnConstraints hgrow="ALWAYS" />
                           </columnConstraints>
                        </GridPane>
                     </children>
                  </VBox>
               </children>
               <padding>
                  <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
               </padding>
            </VBox>
         </Tab>
         
         <!-- Tab: Seguridad -->
         <Tab text="ðŸ” Seguridad">
            <VBox spacing="20.0">
               <children>
                  <Label styleClass="section-title" text="ConfiguraciÃ³n de Seguridad" />
                  
                  <!-- PolÃ­ticas de contraseÃ±as -->
                  <VBox spacing="15.0" styleClass="config-section">
                     <children>
                        <Label styleClass="config-section-title" text="PolÃ­ticas de ContraseÃ±as" />
                        
                        <GridPane hgap="15.0" vgap="12.0">
                           <children>
                              <Label text="Longitud mÃ­nima:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                              <Spinner fx:id="spnMinPasswordLength" editable="true" max="50" min="4" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                              
                              <Label text="Requerir mayÃºsculas:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                              <CheckBox fx:id="chkRequireUppercase" text="Al menos una mayÃºscula" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                              
                              <Label text="Requerir nÃºmeros:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                              <CheckBox fx:id="chkRequireNumbers" text="Al menos un nÃºmero" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                              
                              <Label text="Requerir sÃ­mbolos:" GridPane.columnIndex="0" GridPane.rowIndex="3" />
                              <CheckBox fx:id="chkRequireSymbols" text="Al menos un sÃ­mbolo especial" GridPane.columnIndex="1" GridPane.rowIndex="3" />
                              
                              <Label text="ExpiraciÃ³n (dÃ­as):" GridPane.columnIndex="0" GridPane.rowIndex="4" />
                              <Spinner fx:id="spnPasswordExpiration" editable="true" max="365" min="0" GridPane.columnIndex="1" GridPane.rowIndex="4" />
                           </children>
                           <columnConstraints>
                              <ColumnConstraints minWidth="150.0" />
                              <ColumnConstraints hgrow="ALWAYS" />
                           </columnConstraints>
                        </GridPane>
                     </children>
                  </VBox>
                  
                  <!-- ConfiguraciÃ³n de intentos de login -->
                  <VBox spacing="15.0" styleClass="config-section">
                     <children>
                        <Label styleClass="config-section-title" text="Control de Acceso" />
                        
                        <GridPane hgap="15.0" vgap="12.0">
                           <children>
                              <Label text="MÃ¡x. intentos fallidos:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                              <Spinner fx:id="spnMaxLoginAttempts" editable="true" max="10" min="1" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                              
                              <Label text="Tiempo de bloqueo (min):" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                              <Spinner fx:id="spnLockoutDuration" editable="true" max="1440" min="1" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                              
                              <Label text="AuditorÃ­a de accesos:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                              <CheckBox fx:id="chkAuditAccess" text="Registrar todos los accesos" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                           </children>
                           <columnConstraints>
                              <ColumnConstraints minWidth="150.0" />
                              <ColumnConstraints hgrow="ALWAYS" />
                           </columnConstraints>
                        </GridPane>
                     </children>
                  </VBox>
               </children>
               <padding>
                  <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
               </padding>
            </VBox>
         </Tab>
         
         <!-- Tab: Backups -->
         <Tab text="ðŸ’¾ Backups">
            <VBox spacing="20.0">
               <children>
                  <Label styleClass="section-title" text="ConfiguraciÃ³n de Backups" />
                  
                  <!-- ConfiguraciÃ³n de backups automÃ¡ticos -->
                  <VBox spacing="15.0" styleClass="config-section">
                     <children>
                        <Label styleClass="config-section-title" text="Backups AutomÃ¡ticos" />
                        
                        <GridPane hgap="15.0" vgap="12.0">
                           <children>
                              <Label text="Habilitar backups:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                              <CheckBox fx:id="chkEnableBackups" text="Activar backups automÃ¡ticos" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                              
                              <Label text="Frecuencia:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                              <ComboBox fx:id="cmbBackupFrequency" prefWidth="200.0" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                              
                              <Label text="Hora de backup:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                              <ComboBox fx:id="cmbBackupTime" prefWidth="200.0" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                              
                              <Label text="Retener backups (dÃ­as):" GridPane.columnIndex="0" GridPane.rowIndex="3" />
                              <Spinner fx:id="spnBackupRetention" editable="true" max="365" min="1" GridPane.columnIndex="1" GridPane.rowIndex="3" />
                           </children>
                           <columnConstraints>
                              <ColumnConstraints minWidth="150.0" />
                              <ColumnConstraints hgrow="ALWAYS" />
                           </columnConstraints>
                        </GridPane>
                     </children>
                  </VBox>
                  
                  <!-- Estado de backups -->
                  <VBox spacing="15.0" styleClass="config-section">
                     <children>
                        <Label styleClass="config-section-title" text="Estado de Backups" />
                        
                        <GridPane hgap="15.0" vgap="12.0">
                           <children>
                              <Label text="Ãšltimo backup:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                              <Label fx:id="lblLastBackup" text="Hoy a las 02:00" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                              
                              <Label text="Estado:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                              <Label fx:id="lblBackupStatus" styleClass="status-success" text="âœ… Exitoso" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                              
                              <Label text="PrÃ³ximo backup:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                              <Label fx:id="lblNextBackup" text="MaÃ±ana a las 02:00" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                           </children>
                           <columnConstraints>
                              <ColumnConstraints minWidth="150.0" />
                              <ColumnConstraints hgrow="ALWAYS" />
                           </columnConstraints>
                        </GridPane>
                        
                        <HBox spacing="10.0">
                           <children>
                              <Button fx:id="btnRunBackup" onAction="#handleRunBackup" styleClass="btn-primary" text="â–¶ï¸ Ejecutar Backup Ahora" />
                              <Button fx:id="btnRestoreBackup" onAction="#handleRestoreBackup" styleClass="btn-secondary" text="ðŸ“¥ Restaurar Backup" />
                           </children>
                        </HBox>
                     </children>
                  </VBox>
               </children>
               <padding>
                  <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
               </padding>
            </VBox>
         </Tab>
         
      </TabPane>
   </children>
   <padding>
      <Insets bottom="20.0" left="30.0" right="30.0" top="20.0" />
   </padding>
</VBox> 